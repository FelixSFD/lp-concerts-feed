<div class="card w-100">
  <div class="card-header">
    {{ cardTitle }}
  </div>
  <div class="card-body">
    <ng-template [ngIf]="concert$ != null && !isLoading$" #concertTemplate>
      <h5 class="card-title">{{ concert$?.venue }}</h5>
      <p class="card-text">
        <i>{{ concert$.city }}{{ (concert$.state?.length ?? 0) > 0 ? ", " + concert$.state : ""}}, {{ concert$.country }}</i>
      </p>
      <app-countdown *ngIf="concert$.postedStartTime != undefined || concert$.mainStageTime != undefined" [countdownToDate]="concert$.mainStageTime ?? concert$.postedStartTime!" [concertId]="concert$.id" />
      <small *ngIf="concert$.mainStageTime == undefined">Based on start time on ticket</small>
      <small *ngIf="concert$.mainStageTime != undefined">Based on Linkin Park stage time</small>
    </ng-template>

    <ng-template [ngIf]="isLoading$" #concertLoadingSpinner>
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading concert...
    </ng-template>

    <ng-template [ngIf]="!isLoading$ && concert$ == null" #concertLoadingError>
      <div class="alert alert-{{notFoundAlertClass}}" role="alert">
        {{ notFoundAlertText }}
      </div>
    </ng-template>
  </div>
  <div class="card-footer text-end" *ngIf="concert$?.id != null">
    <button class="btn btn-outline-info" [routerLink]="['/concerts', concert$?.id]"><i class="bi bi-info-circle"></i> Details</button>
  </div>
</div>
