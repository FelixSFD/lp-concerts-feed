
<button class="btn btn-outline-secondary" [routerLink]="['../']"><i class="bi bi-arrow-left"></i> Concerts list</button>
&nbsp;
<button class="btn btn-outline-info" [routerLink]="['./edit']" [hidden]="!hasWriteAccess$"><i class="bi bi-pencil"></i> Edit</button>

<br />
<br />

<ng-template *ngIf="concert$ == null; then loadingSpinner; else details;" />

<ng-template #loadingSpinner>
  <div style="text-align: center">
    <h2><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading concert details...</h2>
  </div>
</ng-template>

<ng-template #details>
  <h1 *ngIf="concert$?.tourName != undefined">
    {{ concert$?.tourName }}: {{ concert$?.city }}
  </h1>
  <h1 *ngIf="concert$?.tourName == undefined">
    Linkin Park Concert: {{ concert$?.city }}
  </h1>
  <div style="margin-bottom: 10px">
    <app-concert-badges [concert]="concert$"></app-concert-badges>
  </div>
  <p>
    <b>{{ concert$?.venue }}</b>
    <br />
    <i>{{ concert$?.city }}{{ (concert$?.state?.length ?? 0) > 0 ? ", " + concert$?.state : ""}}, {{ concert$?.country }}</i>
  </p>

  <div class="container">
    <div class="row row-cols-xxl-4 row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-sm-1 row-cols-xs-1 gy-4 gx-4">
      <ng-template [ngIf]="concert$?.lpuEarlyEntryTime != undefined" #lpuEarlyEntryCard>
        <div class="col">
          <div class="card" style="width: 18rem;">
            <div class="card-header">
              LPU Early Entry
            </div>
            <div class="card-body text-center">
              <h4 class="card-text">{{getDateTime(concert$?.lpuEarlyEntryTime!).toLocaleString(DateTime.TIME_SIMPLE)}}</h4>
            </div>
          </div>
        </div>
      </ng-template>

      <div class="col">
        <div class="card" style="width: 18rem;">
          <div class="card-header">
            Your start time
          </div>
          <div class="card-body text-center">
            <h4 class="card-text">{{getDateTime(concert$?.postedStartTime!).toLocaleString(DateTime. DATETIME_SHORT)}}</h4>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card" style="width: 18rem;">
          <div class="card-header">
            Venue start time
          </div>
          <div class="card-body text-center">
            <h4 class="card-text">{{getDateTimeInTimezone(concert$?.postedStartTime!).toLocaleString(DateTime. DATETIME_SHORT)}}</h4>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card" style="width: 18rem;">
          <div class="card-header">
            Countdown <s>from</s>to zero
          </div>
          <div class="card-body">
            <app-countdown [countdownToDate]="concert$?.postedStartTime!" [concertId]="concert$?.id"></app-countdown>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
